webpackJsonp([1],{"+18R":function(t,s){},0:function(t,s,e){t.exports=e("NHnr")},"3fdr":function(t,s){},EoBb:function(t,s){},MNFC:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("/5sW"),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"nav"}}),t._v(" "),e("router-view")],1)},n=[],o=e("XyMi");function i(t){e("g0x1")}var c=null,l=!1,u=i,d=null,h=null,m=Object(o["a"])(c,r,n,l,u,d,h),v=m.exports,p=e("/ocq"),f=e("Sazm"),b=Object(f["initializeApp"])({apiKey:"AIzaSyBKrhAEGgNnDDFaA_dMFQ-S4YgKBcwNfV8",authDomain:"werefox-191903.firebaseapp.com",databaseURL:"https://werefox-191903.firebaseio.com",projectId:"werefox-191903",storageBucket:"",messagingSenderId:"995380116138"}),_=b.database(),C=_.ref("characters"),g=(_.ref("questions"),_.ref("users"),_.ref("rooms")),y={props:["data","keys"],methods:{tampilinModal:function(){this.modal=!0},join:function(t){var s={name:this.username,hp:100,isTurn:!1,selectedCharacter:""},e=this;g.child(t).once("value").then(function(a){if(null!=a.val().user2)throw Error;console.log("success"),g.child(t).update({user2:s}),e.$store.dispatch("setUser","user2"),e.$store.dispatch("setRoom",t),e.$store.dispatch("setTurn",!1),e.$router.push("/character")}).catch(function(t){console.error(t)})},fullChecker:function(){var t=Object.keys(this.data).length;2==t&&(this.isFull=!0)}},data:function(){return{modal:!1,username:"",isFull:!1}},created:function(){this.fullChecker()}},k=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.isFull?t._e():a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card mb-3"},[a("h6",{staticClass:"card-header"},[t._v("Room "+t._s(t.data.user1.name)+" ")]),t._v(" "),a("img",{staticStyle:{height:"200px",width:"100%",display:"block"},attrs:{src:e("WE+I"),alt:""}}),t._v(" "),a("p",[t._v(t._s(Object.keys(t.data).length)+"/2 players")]),t._v(" "),a("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:t.tampilinModal}},[t._v("Join Game!")]),t._v(" "),t.modal?a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"",placeholder:"Please input Your Name!"},domProps:{value:t.username},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key))return null;t.join(t.keys)},input:function(s){s.target.composing||(t.username=s.target.value)}}}):t._e()])])},w=[];function $(t){e("+18R")}var x=!1,T=$,q="data-v-ff43b990",R=null,I=Object(o["a"])(y,k,w,x,T,q,R),j=I.exports,E={data:function(){return{nama:null,Rooms:[],RoomKeys:[],allRooms:[]}},components:{RoomCard:j},methods:{testRoom:function(){_.ref("rooms").push({nama:this.nama,isOnGame:!1})},showAllRoom:function(){var t=this;_.ref("rooms").on("child_added",function(s){t.Rooms.push(s.val()),t.RoomKeys.push(s.key)})},populateAllRooms:function(){}},created:function(){this.showAllRoom()}},O=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[e("div",{staticClass:"row"},[e("div",{staticClass:"row"},t._l(t.Rooms,function(s,a){return e("RoomCard",{attrs:{data:s,keys:t.RoomKeys[a]}})}))])])},S=[];function A(t){e("MNFC")}var M=!1,N=A,F=null,U=null,P=Object(o["a"])(E,O,S,M,N,F,U),W=P.exports,H={data:function(){return{username:"",char:""}},methods:{createRooms:function(){var t={name:this.username,hp:100,selectedCharacter:this.char,isTurn:!0};this.$store.dispatch("setUser","user1");var s=g.push({user1:t}).key;this.$store.dispatch("setRoom",s),this.$store.dispatch("setTurn",!0),this.$router.push("/character")}}},D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"footer"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[e("h6",{attrs:{id:"labelFooter"}},[t._v("Create your own room!")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticStyle:{"min-width":"500px"},attrs:{type:"text",name:"",value:"",placeholder:"Please enter your name",id:"labelFooter"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-info",attrs:{type:"button",id:"buttonFooter"},on:{click:t.createRooms}},[t._v("Success")])])])},K=[];function Y(t){e("EoBb")}var B=!1,z=Y,J=null,G=null,Z=Object(o["a"])(H,D,K,B,z,J,G),L=Z.exports,Q={name:"HelloWorld",props:{msg:String},components:{Rooms:W,CreateRoom:L},firebase:{character:C},methods:{nambahCharacter:function(){C.push({name:"anime1",gender:"female"})},cariCharacter:function(t){}}},V=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"hello"},[e("h1",[t._v(t._s(t.msg))]),t._v(" "),e("CreateRoom"),t._v(" "),e("Rooms")],1)},X=[];function tt(t){e("Uryl")}var st=!1,et=tt,at="data-v-ea9cd476",rt=null,nt=Object(o["a"])(Q,V,X,st,et,at,rt),ot=nt.exports,it={name:"home",components:{HelloWorld:ot}},ct=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("HelloWorld",{attrs:{msg:"Rusuh Yuk!"}})],1)},lt=[],ut=!1,dt=null,ht=null,mt=null,vt=Object(o["a"])(it,ct,lt,ut,dt,ht,mt),pt=vt.exports,ft=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")])])}],_t=null,Ct=!1,gt=null,yt=null,kt=null,wt=Object(o["a"])(_t,ft,bt,Ct,gt,yt,kt),$t=wt.exports,xt=(e("EuXz"),{data:function(){return{img:"",name:this.character.name}},props:["character"],methods:{updateUserCharacter:function(){g.child(this.$store.state.roomId).child(this.$store.state.userId).update({selectedCharacter:this.character}),this.$router.push("/battle")}}}),Tt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-4"},[e("img",{attrs:{src:t.character.image,alt:"",id:"image"},on:{click:t.updateUserCharacter}}),t._v(" "),e("h3",[t._v(t._s(t.character.name))])])},qt=[];function Rt(t){e("p1Fg")}var It=!1,jt=Rt,Et=null,Ot=null,St=Object(o["a"])(xt,Tt,qt,It,jt,Et,Ot),At=St.exports,Mt={data:function(){return{background:"",characters:[]}},components:{CharacterImage:At},created:function(){this.getCharacter()},methods:{getCharacter:function(){var t=this;C.once("value",function(s){for(var e in console.log("INI ADALAH SNAPSHOT",s.val()),s.val())t.characters.push(s.val()[e])})}}},Nt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"test"}},[e("div",{staticClass:"row"},t._l(t.characters,function(t){return e("CharacterImage",{key:t,attrs:{character:t}})}))])},Ft=[];function Ut(t){e("ZOnJ")}var Pt=!1,Wt=Ut,Ht=null,Dt=null,Kt=Object(o["a"])(Mt,Nt,Ft,Pt,Wt,Ht,Dt),Yt=Kt.exports,Bt=(e("uDYd"),e("VjuZ"),{name:"battle",data:function(){return{characters:[],players:[],users:{user1:{hp:""},user2:{hp:""}},question:null,background:""}},methods:{firstMethod:function(){var t=this;console.log("masuk firstmethod"),g.child(t.$store.state.roomId).on("value",function(s){t.users.user1=s.val().user1,t.users.user2=s.val().user2,t.$store.dispatch("setTurn",t.users[t.$store.state.userId].isTurn)})},turn:function(){var t=this;g.child(t.$store.state.roomId).on("value",function(s){t.users.user1.isTurn=s.val().user1.isTurn,t.users.user2.isTurn=s.val().user2.isTurn,t.users.user1.hp=s.val().user1.hp,t.users.user2.hp=s.val().user2.hp;var e="user1"==t.$store.state.userId?"user1":"user2";0!==t.users.user1.hp&&0!==t.users.user2.hp||(alert(0===t.users[e].hp?"game over":"you win"),t.$router.push("/"))})},firstSkill:function(){var t=this;this.$axios.get("https://opentdb.com/api.php?amount=1&category=31&difficulty=easy&type=multiple").then(function(s){var e=s.data;console.log({data:e}),e.results[0].question=e.results[0].question.replace(/&quot/g,'\\"'),e.results[0].incorrect_answers.push(e.results[0].correct_answer),e.results[0].incorrect_answers=e.results[0].incorrect_answers.sort(),e.results[0].poin=10,t.question=e.results[0]}).catch(function(t){console.error(t)})},secondSkill:function(){var t=this;this.$axios.get("https://opentdb.com/api.php?amount=1&category=31&difficulty=medium&type=multiple").then(function(s){var e=s.data;console.log({data:e}),e.results[0].question=e.results[0].question.replace(/&quot/g,'\\"'),e.results[0].incorrect_answers.push(e.results[0].correct_answer),e.results[0].incorrect_answers=e.results[0].incorrect_answers.sort(),e.results[0].poin=20,t.question=e.results[0]}).catch(function(t){console.error(t)})},thirdSkill:function(){var t=this;this.$axios.get("https://opentdb.com/api.php?amount=1&category=31&difficulty=hard&type=multiple").then(function(s){var e=s.data;console.log({data:e}),e.results[0].question=e.results[0].question.replace(/&quot/g,'\\"'),e.results[0].incorrect_answers.push(e.results[0].correct_answer),e.results[0].incorrect_answers=e.results[0].incorrect_answers.sort(),e.results[0].poin=30,t.question=e.results[0]}).catch(function(t){console.error(t)})},questionAnswer:function(t){var s=this;if(console.log(this.isTurn),t==this.question.correct_answer){var e="user1"==s.$store.state.userId?"user2":"user1";this.attackOtherPlayer(s.$store.state.roomId,e,this.question.poin)}else alert("miss!! jawaban anda salah");s.changeTurn(s.$store.state.roomId),this.question=null},getbackground:function(){var t=["fuji","sea","marvel1","marvel2","marvel3"];this.background=t[Math.floor(5*Math.random())]},attackOtherPlayer:function(t,s,e){g.child(t).child(s).once("value",function(a){var r=a.val().hp,n=r-e,o=n<0?0:n;g.child(t).child(s).update({hp:o})})},changeTurn:function(t){g.child(t).child("user1").once("value",function(s){g.child(t).child("user1").update({isTurn:!s.val().isTurn})}),g.child(t).child("user2").once("value",function(s){g.child(t).child("user2").update({isTurn:!s.val().isTurn})}),console.log(!this.$store.state.isTurn,"arif")}},created:function(){this.firstMethod(),this.turn(),this.getbackground()},computed:{hp1:function(){return"width: ".concat(this.users.user1.hp,"%;")},hp2:function(){return"width: ".concat(this.users.user2.hp,"%;")}}}),zt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"battle"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"container"},[e("div",{staticClass:"jumbotron",attrs:{id:t.background}},[e("div",{staticClass:"rows"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(t._s(t.users.user1.name))]),t._v(" "),e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar bg-danger",style:t.hp1,attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),e("br"),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("img",{attrs:{src:t.users.user1.selectedCharacter.image,alt:"anime1"}})]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-primary btn-lg btn-block disabled",attrs:{type:"button"}},[t._v(t._s(t.users.user1.selectedCharacter.name))])])])]),t._v(" "),t._m(0),t._v(" "),t.users.user2?e("div",{staticClass:"col-md-5"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(t._s(t.users.user2.name))]),t._v(" "),e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar bg-danger",style:t.hp2,attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),e("br"),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("img",{attrs:{src:t.users.user2.selectedCharacter.image,alt:"anime1"}})]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-primary btn-lg btn-block disabled",attrs:{type:"button"}},[t._v(t._s(t.users.user2.selectedCharacter.name))])])])]):t._e()])])])])]),t._v(" "),e("div",{staticClass:"col-md-4"},[t.question?e("div",{staticClass:"rows"},[e("div",{staticClass:"modal-active"},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[t._v(t._s(t.question.question))])]),t._v(" "),t._l(t.question.incorrect_answers,function(s){return e("div",{key:s.key,staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.questionAnswer(s)}}},[t._v(t._s(s))])])})],2)])])]):t._e()]),t._v(" "),e("div",{staticClass:"container"},[t.users.user1.isTurn&&t.$store.state.isTurn?e("div",{staticClass:"rows"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[t.question?t._e():e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.firstSkill}},[t._v(t._s(t.users.user1.selectedCharacter.skills.skill1))])]),t._v(" "),e("div",{staticClass:"col-md-4"},[t.question?t._e():e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.secondSkill}},[t._v(t._s(t.users.user1.selectedCharacter.skills.skill2))])]),t._v(" "),e("div",{staticClass:"col-md-4"},[t.question?t._e():e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.thirdSkill}},[t._v(t._s(t.users.user1.selectedCharacter.skills.skill3))])])])]):t._e(),t._v(" "),t.users.user2&&t.users.user2.isTurn&&t.$store.state.isTurn?e("div",{staticClass:"rows"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[t.question?t._e():e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.firstSkill}},[t._v(t._s(t.users.user2.selectedCharacter.skills.skill1))])]),t._v(" "),e("div",{staticClass:"col-md-4"},[t.question?t._e():e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.secondSkill}},[t._v(t._s(t.users.user2.selectedCharacter.skills.skill2))])]),t._v(" "),e("div",{staticClass:"col-md-4"},[t.question?t._e():e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.thirdSkill}},[t._v(t._s(t.users.user2.selectedCharacter.skills.skill3))])])])]):t._e()])]),t._v(" "),e("label",{attrs:{hidden:""}},[t._v(" "+t._s(t.characters)+" ")]),t._v(" "),e("label",{attrs:{hidden:""}},[t._v(" "+t._s(t.users)+" ")])])},Jt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-2"},[e("img",{staticStyle:{width:"100%"},attrs:{src:"https://media.giphy.com/media/l4pTkNEd2P4MWo9iw/giphy.gif",alt:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Your Question")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];function Gt(t){e("3fdr")}var Zt=!1,Lt=Gt,Qt="data-v-2ebb7f70",Vt=null,Xt=Object(o["a"])(Bt,zt,Jt,Zt,Lt,Qt,Vt),ts=Xt.exports;a["a"].use(p["a"]);var ss=new p["a"]({mode:"history",routes:[{path:"/",name:"home",component:pt},{path:"/about",name:"about",component:$t},{path:"/character",name:"character",component:Yt},{path:"/battle",name:"battle",component:ts},{path:"/character",name:"character",component:Yt}]}),es=e("NYxO");a["a"].use(es["a"]);var as=new es["a"].Store({state:{roomId:null,userId:null,isTurn:null},mutations:{setUserId:function(t,s){t.userId=s},setRoomId:function(t,s){t.roomId=s},setTurn:function(t,s){t.isTurn=s}},actions:{setUser:function(t,s){var e=t.commit;e("setUserId",s)},setRoom:function(t,s){var e=t.commit;e("setRoomId",s)},setTurn:function(t,s){var e=t.commit;e("setTurn",s)}}}),rs=e("1mcD"),ns=e.n(rs),os=e("mtWM"),is=e.n(os);a["a"].prototype.$axios=is.a,a["a"].config.productionTip=!1,a["a"].use(ns.a),new a["a"]({router:ss,store:as,render:function(t){return t(v)}}).$mount("#app")},Uryl:function(t,s){},"WE+I":function(t,s,e){t.exports=e.p+"img/fight.a78eb321.png"},ZOnJ:function(t,s){},g0x1:function(t,s){},p1Fg:function(t,s){}},[0]);
//# sourceMappingURL=app.25580933.js.map