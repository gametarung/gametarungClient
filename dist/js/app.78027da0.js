webpackJsonp([1],{"+18R":function(t,e){},0:function(t,e,s){t.exports=s("NHnr")},EoBb:function(t,e){},MNFC:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("/5sW"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"nav"}}),t._v(" "),s("router-view")],1)},n=[],o=s("XyMi");function i(t){s("g0x1")}var c=null,u=!1,l=i,d=null,h=null,m=Object(o["a"])(c,r,n,u,l,d,h),v=m.exports,p=s("/ocq"),f=s("Sazm"),b=Object(f["initializeApp"])({apiKey:"AIzaSyBKrhAEGgNnDDFaA_dMFQ-S4YgKBcwNfV8",authDomain:"werefox-191903.firebaseapp.com",databaseURL:"https://werefox-191903.firebaseio.com",projectId:"werefox-191903",storageBucket:"",messagingSenderId:"995380116138"}),_=b.database(),g=_.ref("characters"),C=(_.ref("questions"),_.ref("users"),_.ref("rooms")),y={props:["data","keys"],methods:{tampilinModal:function(){this.modal=!0},join:function(t){var e={name:this.username,hp:100,isTurn:!1,selectedCharacter:""},s=this;C.child(t).once("value").then(function(a){if(null!=a.val().user2)throw Error;console.log("success"),C.child(t).update({user2:e}),s.$store.dispatch("setUser","user2"),s.$store.dispatch("setRoom",t),s.$store.dispatch("setTurn",!1),s.$router.push("/character")}).catch(function(t){console.error(t)})},fullChecker:function(){var t=Object.keys(this.data).length;2==t&&(this.isFull=!0)}},data:function(){return{modal:!1,username:"",isFull:!1}},created:function(){this.fullChecker()}},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isFull?t._e():a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card mb-3"},[a("h6",{staticClass:"card-header"},[t._v("Room "+t._s(t.data.user1.name)+" ")]),t._v(" "),a("img",{staticStyle:{height:"200px",width:"100%",display:"block"},attrs:{src:s("WE+I"),alt:""}}),t._v(" "),a("p",[t._v(t._s(Object.keys(t.data).length)+"/2 players")]),t._v(" "),a("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:t.tampilinModal}},[t._v("Join Game!")]),t._v(" "),t.modal?a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"",placeholder:"Please input Your Name!"},domProps:{value:t.username},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.join(t.keys)},input:function(e){e.target.composing||(t.username=e.target.value)}}}):t._e()])])},k=[];function $(t){s("+18R")}var x=!1,R=$,T="data-v-ff43b990",q=null,I=Object(o["a"])(y,w,k,x,R,T,q),j=I.exports,E={data:function(){return{nama:null,Rooms:[],RoomKeys:[],allRooms:[]}},components:{RoomCard:j},methods:{testRoom:function(){_.ref("rooms").push({nama:this.nama,isOnGame:!1})},showAllRoom:function(){var t=this;_.ref("rooms").on("child_added",function(e){t.Rooms.push(e.val()),t.RoomKeys.push(e.key)})},populateAllRooms:function(){}},created:function(){this.showAllRoom()}},O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"row"},[s("div",{staticClass:"row"},t._l(t.Rooms,function(e,a){return s("RoomCard",{attrs:{data:e,keys:t.RoomKeys[a]}})}))])])},S=[];function A(t){s("MNFC")}var M=!1,N=A,F=null,U=null,P=Object(o["a"])(E,O,S,M,N,F,U),W=P.exports,H={data:function(){return{username:"",char:""}},methods:{createRooms:function(){var t={name:this.username,hp:100,selectedCharacter:this.char,isTurn:!0};this.$store.dispatch("setUser","user1");var e=C.push({user1:t}).key;this.$store.dispatch("setRoom",e),this.$store.dispatch("setTurn",!0),this.$router.push("/character")}}},J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[s("h6",{attrs:{id:"labelFooter"}},[t._v("Create your own room!")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticStyle:{"min-width":"500px"},attrs:{type:"text",name:"",value:"",placeholder:"Please enter your name",id:"labelFooter"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-info",attrs:{type:"button",id:"buttonFooter"},on:{click:t.createRooms}},[t._v("Success")])])])},D=[];function K(t){s("EoBb")}var Y=!1,B=K,z=null,G=null,Z=Object(o["a"])(H,J,D,Y,B,z,G),L=Z.exports,Q={name:"HelloWorld",props:{msg:String},components:{Rooms:W,CreateRoom:L},firebase:{character:g},methods:{nambahCharacter:function(){g.push({name:"anime1",gender:"female"})},cariCharacter:function(t){}}},V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("CreateRoom"),t._v(" "),s("Rooms")],1)},X=[];function tt(t){s("Uryl")}var et=!1,st=tt,at="data-v-ea9cd476",rt=null,nt=Object(o["a"])(Q,V,X,et,st,at,rt),ot=nt.exports,it={name:"home",components:{HelloWorld:ot}},ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("HelloWorld",{attrs:{msg:"Rusuh Yuk!"}})],1)},ut=[],lt=!1,dt=null,ht=null,mt=null,vt=Object(o["a"])(it,ct,ut,lt,dt,ht,mt),pt=vt.exports,ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("This is an about page")])])}],_t=null,gt=!1,Ct=null,yt=null,wt=null,kt=Object(o["a"])(_t,ft,bt,gt,Ct,yt,wt),$t=kt.exports,xt=(s("EuXz"),{data:function(){return{img:"",name:this.character.name}},props:["character"],methods:{updateUserCharacter:function(){C.child(this.$store.state.roomId).child(this.$store.state.userId).update({selectedCharacter:this.character}),this.$router.push("/battle")}}}),Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-4"},[s("img",{attrs:{src:t.character.image,alt:"",id:"image"},on:{click:t.updateUserCharacter}}),t._v(" "),s("h3",[t._v(t._s(t.character.name))])])},Tt=[];function qt(t){s("p1Fg")}var It=!1,jt=qt,Et=null,Ot=null,St=Object(o["a"])(xt,Rt,Tt,It,jt,Et,Ot),At=St.exports,Mt={data:function(){return{background:"",characters:[]}},components:{CharacterImage:At},created:function(){this.getCharacter()},methods:{getCharacter:function(){var t=this;g.once("value",function(e){for(var s in console.log("INI ADALAH SNAPSHOT",e.val()),e.val())t.characters.push(e.val()[s])})}}},Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"test"}},[s("div",{staticClass:"row"},t._l(t.characters,function(t){return s("CharacterImage",{key:t,attrs:{character:t}})}))])},Ft=[];function Ut(t){s("ZOnJ")}var Pt=!1,Wt=Ut,Ht=null,Jt=null,Dt=Object(o["a"])(Mt,Nt,Ft,Pt,Wt,Ht,Jt),Kt=Dt.exports,Yt=(s("uDYd"),s("VjuZ"),{name:"battle",data:function(){return{characters:[],players:[],users:{user1:{hp:""},user2:{hp:""}},question:null,background:""}},methods:{firstMethod:function(){var t=this;console.log("masuk firstmethod"),C.child(t.$store.state.roomId).on("value",function(e){t.users.user1=e.val().user1,t.users.user2=e.val().user2,t.$store.dispatch("setTurn",t.users[t.$store.state.userId].isTurn)})},turn:function(){var t=this;C.child(t.$store.state.roomId).on("value",function(e){t.users.user1.isTurn=e.val().user1.isTurn,t.users.user2.isTurn=e.val().user2.isTurn,t.users.user1.hp=e.val().user1.hp,t.users.user2.hp=e.val().user2.hp;var s="user1"==t.$store.state.userId?"user1":"user2";0!==t.users.user1.hp&&0!==t.users.user2.hp||(alert(0===t.users[s].hp?"game over":"you win"),t.$router.push("/"))})},firstSkill:function(){var t=this;this.$axios.get("https://opentdb.com/api.php?amount=1&category=31&difficulty=easy&type=multiple").then(function(e){var s=e.data;console.log({data:s}),s.results[0].question=s.results[0].question.replace(/&quot/g,'\\"'),s.results[0].incorrect_answers.push(s.results[0].correct_answer),s.results[0].incorrect_answers=s.results[0].incorrect_answers.sort(),s.results[0].poin=10,t.question=s.results[0]}).catch(function(t){console.error(t)})},secondSkill:function(){var t=this;this.$axios.get("https://opentdb.com/api.php?amount=1&category=31&difficulty=medium&type=multiple").then(function(e){var s=e.data;console.log({data:s}),s.results[0].question=s.results[0].question.replace(/&quot/g,'\\"'),s.results[0].incorrect_answers.push(s.results[0].correct_answer),s.results[0].incorrect_answers=s.results[0].incorrect_answers.sort(),s.results[0].poin=20,t.question=s.results[0]}).catch(function(t){console.error(t)})},thirdSkill:function(){var t=this;this.$axios.get("https://opentdb.com/api.php?amount=1&category=31&difficulty=hard&type=multiple").then(function(e){var s=e.data;console.log({data:s}),s.results[0].question=s.results[0].question.replace(/&quot/g,'\\"'),s.results[0].incorrect_answers.push(s.results[0].correct_answer),s.results[0].incorrect_answers=s.results[0].incorrect_answers.sort(),s.results[0].poin=30,t.question=s.results[0]}).catch(function(t){console.error(t)})},questionAnswer:function(t){var e=this;if(console.log(this.isTurn),t==this.question.correct_answer){var s="user1"==e.$store.state.userId?"user2":"user1";this.attackOtherPlayer(e.$store.state.roomId,s,this.question.poin)}else alert("miss!! jawaban anda salah");e.changeTurn(e.$store.state.roomId),this.question=null},getbackground:function(){var t=["fuji","sea","marvel1","marvel2","marvel3"];this.background=t[Math.floor(5*Math.random())]},attackOtherPlayer:function(t,e,s){C.child(t).child(e).once("value",function(a){var r=a.val().hp,n=r-s,o=n<0?0:n;C.child(t).child(e).update({hp:o})})},changeTurn:function(t){C.child(t).child("user1").once("value",function(e){C.child(t).child("user1").update({isTurn:!e.val().isTurn})}),C.child(t).child("user2").once("value",function(e){C.child(t).child("user2").update({isTurn:!e.val().isTurn})}),console.log(!this.$store.state.isTurn,"arif")}},created:function(){this.firstMethod(),this.turn(),this.getbackground()},computed:{hp1:function(){return"width: ".concat(this.users.user1.hp,"%;")},hp2:function(){return"width: ".concat(this.users.user2.hp,"%;")}}}),Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"battle"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"container"},[s("div",{staticClass:"jumbotron",attrs:{id:t.background}},[s("div",{staticClass:"rows"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(t._s(t.users.user1.name))]),t._v(" "),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar bg-danger",style:t.hp1,attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),s("br"),s("br"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("img",{attrs:{src:t.users.user1.selectedCharacter.image,alt:"anime1"}})]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block disabled",attrs:{type:"button"}},[t._v(t._s(t.users.user1.selectedCharacter.name))])])])]),t._v(" "),t._m(0),t._v(" "),t.users.user2?s("div",{staticClass:"col-md-5"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(t._s(t.users.user2.name))]),t._v(" "),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar bg-danger",style:t.hp2,attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),s("br"),s("br"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("img",{attrs:{src:t.users.user2.selectedCharacter.image,alt:"anime1"}})]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block disabled",attrs:{type:"button"}},[t._v(t._s(t.users.user2.selectedCharacter.name))])])])]):t._e()])])])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[t.question?s("div",{staticClass:"rows"},[s("div",{staticClass:"modal-active"},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("p",[t._v(t._s(t.question.question))])]),t._v(" "),t._l(t.question.incorrect_answers,function(e){return s("div",{key:e.key,staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(s){t.questionAnswer(e)}}},[t._v(t._s(e))])])})],2)])])]):t._e()]),t._v(" "),s("div",{staticClass:"container"},[t.$store.state.isTurn?s("div",{staticClass:"rows"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[t.question?t._e():s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.firstSkill}},[t._v("Jurus 1")])]),t._v(" "),s("div",{staticClass:"col-md-4"},[t.question?t._e():s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.secondSkill}},[t._v("Jurus 2")])]),t._v(" "),s("div",{staticClass:"col-md-4"},[t.question?t._e():s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.thirdSkill}},[t._v("Jurus 3")])])])]):t._e()])]),t._v(" "),s("label",{attrs:{hidden:""}},[t._v(" "+t._s(t.characters)+" ")]),t._v(" "),s("label",{attrs:{hidden:""}},[t._v(" "+t._s(t.users)+" ")])])},zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-2"},[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://media.giphy.com/media/l4pTkNEd2P4MWo9iw/giphy.gif",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v("Your Question")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];function Gt(t){s("tCpu")}var Zt=!1,Lt=Gt,Qt="data-v-3bf5c33a",Vt=null,Xt=Object(o["a"])(Yt,Bt,zt,Zt,Lt,Qt,Vt),te=Xt.exports;a["a"].use(p["a"]);var ee=new p["a"]({mode:"history",routes:[{path:"/",name:"home",component:pt},{path:"/about",name:"about",component:$t},{path:"/character",name:"character",component:Kt},{path:"/battle",name:"battle",component:te},{path:"/character",name:"character",component:Kt}]}),se=s("NYxO");a["a"].use(se["a"]);var ae=new se["a"].Store({state:{roomId:null,userId:null,isTurn:null},mutations:{setUserId:function(t,e){t.userId=e},setRoomId:function(t,e){t.roomId=e},setTurn:function(t,e){t.isTurn=e}},actions:{setUser:function(t,e){var s=t.commit;s("setUserId",e)},setRoom:function(t,e){var s=t.commit;s("setRoomId",e)},setTurn:function(t,e){var s=t.commit;s("setTurn",e)}}}),re=s("1mcD"),ne=s.n(re),oe=s("mtWM"),ie=s.n(oe);a["a"].prototype.$axios=ie.a,a["a"].config.productionTip=!1,a["a"].use(ne.a),new a["a"]({router:ee,store:ae,render:function(t){return t(v)}}).$mount("#app")},Uryl:function(t,e){},"WE+I":function(t,e,s){t.exports=s.p+"img/fight.a78eb321.png"},ZOnJ:function(t,e){},g0x1:function(t,e){},p1Fg:function(t,e){},tCpu:function(t,e){}},[0]);
//# sourceMappingURL=app.78027da0.js.map